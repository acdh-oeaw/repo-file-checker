## Документация для phpMussel (Русский)

### Содержание
- 1. [ПРЕДИСЛОВИЕ](#SECTION1)
- 2. [ИНСТАЛЛЯЦИЯ](#SECTION2)
- 3. [ИСПОЛЬЗОВАНИЕ](#SECTION3)
- 4. [УПРАВЛЕНИЕ ФРОНТЕНД](#SECTION4)
- 5. [CLI (СПОСОБ КОМАНДНЫХ СТРОК)](#SECTION5)
- 6. [СОДЕРЖАНИЕ ПАКЕТА ФАЙЛОВ](#SECTION6)
- 7. [НАСТРОЙКИ](#SECTION7)
- 8. [ФОРМАТ ПОДПИСЕЙ](#SECTION8)
- 9. [ИЗВЕСТНЫЕ ПРОБЛЕМЫ СОВМЕСТИМОСТИ](#SECTION9)
- 10. [ЧАСТО ЗАДАВАЕМЫЕ ВОПРОСЫ (FAQ)](#SECTION10)

*Примечание по поводу переводов: В случае ошибок (например, расхождения между переводами, опечаток, итд), Английская версия README считается оригиналом и официальной версией. Если Вы обнаружите какие-либо ошибки, ваша помощь в исправлении их будет приветствоваться.*

---


### 1. <a name="SECTION1"></a>ПРЕДИСЛОВИЕ

Большое спасибо всем, кто пользуется данным phpMussel-пособием. PHP-руководство позволяет обнаружить вирусы, троянские кони и другие вредоносные программы, проникающие в ваш компьютер, имеющие код ClamAV и другие.

PHPMUSSEL Авторское право 2013 года, а также GNU/GPLv2 by Caleb M (Maikuolan).

Это руководство находится в свободном доступе. Вы можете его передавать и/или модифицировать на условиях GNU General Public License, как публикует Фонд свободного программного обеспечения (Free Software Foundation); либо под второй версией лицензии, либо любой другой более поздней версией (по вашему выбору). Пособие публикуется не в целях увеличения прибыли или создания себе рекламы, а лишь в надежде принести пользу, правда, без всякой гарантии. Подробности Вы можете узнать на странице GNU General Public License в разделе `LICENSE.txt`, а также на страницах:
- <http://www.gnu.org/licenses/>.
- <http://opensource.org/licenses/>.

За вдохновение по созданию этого руководства я говорю большое спасибо [ClamAV](http://www.clamav.net/). Также я благодарю всех, кто пользуется этим руководством. Без вас оно, вероятно, никогда не существовало бы или ценность его была бы не очень большой.

Также большую благодарность выражаю Sourceforge и GitHub за созданные ими хостадреса проектов; [Spambot Security](http://www.spambotsecurity.com/forum/viewforum.php?f=55) за дискуссионные форумы phpMussel; Подписчикам [SecuriteInfo.com](http://www.securiteinfo.com/), [PhishTank](http://www.phishtank.com/), [NLNetLabs](http://nlnetlabs.nl/) и другим. Особая благодарность тем, кто поддержит этот проект, а также всем неназванным мною людям, в том чисте и Вам за то, что пользуетесь этим пособием.

Этот документ с относящимися к нему пакетом файлов можно бесплатно скачать на страницах:
- [Sourceforge](http://phpmussel.sourceforge.net/).
- [GitHub](https://github.com/Maikuolan/phpMussel/).

---


### 2. <a name="SECTION2"></a>ИНСТАЛЛЯЦИЯ

#### 2.0 ИНСТАЛЛЯЦИЯ ВРУЧНУЮ (СЕРВЕР)

1) Скачайте архив на свой компьютер и откройте его. На хост-компьютере или в системе управления содержимым (CMS) создайте регистр, куда Вы хотите загрузить содержимое этого пакета. Такой регистр, как `/public_html/phpmussel/`, будет вполне достаточным, пока он отвечает вашим требованиям к защите или личным предпочтениям.

2) Переименовать `config.ini.RenameMe` в `config.ini` (расположенный внутри `vault`), и если Вы хотите (рекомендуются для опытных пользователей, имеющих соответствующие знания), открой это (этот файл содержит все параметры конфигурации для phpMussel; краткие комментарии описывают задачи каждой параметры). Измените величины в соответствии с Вашими потребностями. Сохраните файл и закройте.

3) Скачайте всё содержимое (phpMussel и файлы) в указанный в пункте 1 регистр, кроме файлов `*.txt`/`*.md`.

4) Право доступа `vault`-регистра поменяйте на «755» (если есть проблемы, Вы можете попробовать «777»; это менее безопасно, хотя). Права доступа вышестоящего папка, в котором находится содержание (папка в который Вы наметили занести файлы) могут остаться прежними, но всё же лучше проверить доступ, если случились проблемы с доступом (обычно должно быть «755» в стандарта).

5) Скрепите phpMussel с Вашей системой или с системой управления содержимым (CMS). Для этого есть много способов. Самым простым является способ, когда phpMussel-руководство является началом главного файла, который будет загружаться всякий раз, когда будут заходить на ваш интернет-сайт. Этот файл нужно связать с Вашей системой или с системой управления содержимым (CMS) при помощи `require` или `include` команд. Обычно такой файл обозначается в регистре как `/includes`, `/assets` или `/functions`, и часто называется `init.php`, `common_functions.php`, `functions.php`. Вы должны найти тот файл, который соответствует Вашим требованиям. Если это трудно для Вас, то посетите форумы phpMussel или страница вопросов phpMussel на GitHub. Возможно я или кто-то другой уже имеет опыт работы с CMS, которую используете вы, и сможет дать Вам совет (обязательно сообщите, какой CMS Вы пользуетесь). Введите прямо в начало этого файла следующий код:

`<?php require '/user_name/public_html/phpmussel/loader.php'; ?>`

Строку между кавычками замените локальным путём файла в формате `loader.php`, без HTTP-адреса (подобно пути для `vault`-регистра). Сохраните файл и закройте его; Загрузите его заново.

-- АЛЬТЕРНАТИВА --

Если у Вас Apache HTTP-сервер и доступ к нему в формате `php.ini` или похожем формате, Вы можете воспользоваться `auto_prepend_file`-директивой, установя приоритет phpMussel, когда последует PHP-запрос. Примерно так:

`auto_prepend_file = "/user_name/public_html/phpmussel/loader.php"`

Или в `.htaccess` файлом:

`php_value auto_prepend_file "/user_name/public_html/phpmussel/loader.php"`

6) На этом инсталляционный процесс заканчивается. Теперь Вам необходимо протестировать программу на правильность функционирования. Для этого Вам нужно имеющиеся в пакете тестовые файлы `_testfiles` загрузить на Вашу веб-страницу любым способом, который позволяет Ваш браузер. При нормальном функционировании программы появится сообщение от phpMussel, что загрузка/уплоад была успешно блокирована. Если такое сообщение не появилось, то программа функционирует неправильно. Воспользуйтесь другими расширенными функциями или всевозможными сканированными видами этой программы. Вы должны тестировать до тех пор, пока не убедитесь в нормальном функционировании программы.

#### 2.1 ИНСТАЛЛЯЦИЯ ВРУЧНУЮ (CLI; СПОСОБ КОМАНДНЫХ СТРОК)

1) Скачайте архив на свой компьютер, поместив его в регистр, соответствующего Вашим требованиям к защите или личным предпочтениям. Откройте папку.

2) Чтобы действовать, phpMussel нужна PHP-среда. В случае, если Вы не имеете PHP, то инсталлируте её, пожалуйста, следуя указаниям PHP-инсталлятора.

3) Дополнительные опции (рекомендуются для опытных пользователей, имеющих соответствующие знания). Откройте файл `config.ini` в `vault`-регистре. Этот файл содержит все функциональные опции phpMussel. Краткие комментарии описывают задачи каждой опции. Измените величины в соответствии с Вашими потребностями. Сохраните файл и закройте.

4) Дополнительные опции. Старт phpMussel можно упростить, если вместе с файлом пакетной обработки PHP автоматически загрузить и phpMussel. Откройте простую программу обработки текста, такую как Editor или Notepad++. Внесите полный путь доступа к Вашему `php.exe`-файлу в регистр PHP-инсталлятора. Потом сделайте пробел. За ним = полный путь к `loader.php`-файлу в регистре phpMussel-инсталлятора. Внесите этот файл в память компьютера в формате `.bat` в то место, где Вы всегда сможете его легко найти и открыть двойным щелчком мышки.

5) На этом процесс инсталляции завершён. Теперь Вам нужно проверить как работает программа. Для тестирования запустите phpMussel и попытайтесь просканировать `_testfiles`-регистр, содержащийся в инсталляционном пакете.

#### 2.2 ИНСТАЛЛЯЦИЯ С ПОМОЩЬЮ COMPOSER

[phpMussel зарегистрирован в Packagist](https://packagist.org/packages/maikuolan/phpmussel), и так, если Вы знакомы с Composer, Вы можете использовать Composer для инсталляция phpMussel (Вам все равно нужно будет подготовить конфигурацию и крючки; См. «инсталляция вручную (сервер)», шаги 2 и 5).

`composer require maikuolan/phpmussel`

---


### 3. <a name="SECTION3"></a>ИСПОЛЬЗОВАНИЕ

#### 3.0 ИСПОЛЬЗОВАНИЕ (СЕРВЕР)

phpMussel функционирует полностью в автономном режиме, то есть, Вам вообще ничего не надо делать. Ваша задача: инсталлировать программу, а работать она будет сама.

Сканирование файлов загрузки унифицировано и запускается автоматически. Вам больше ничего не нужно делать.

Тем не менее у вас есть возможность отдать распоряжение phpmussel сканировать файлы, папки или архивы, указанные вами конкретно. для этого убедитесь, что данная структура имеет формат `config.ini` (`cleanup` должен быть деактивирован), создайте PHP-файл, интегрированный в phpmussel, со следующей функцией:

`$phpMussel['Scan']($what_to_scan, $output_type, $output_flatness);`

- `$what_to_scan` является строкой или матрицей, указывающей на файл, регистр или матрицу файлов и/или регистров, которые подлежат сканированию.
- `$output_type` это целое число (Integer), указывающее на формат, который должен получиться в результате. Нулевое значение задаёт функцию выдать результат в виде целого числа (Integer). Полученное в результате операции число -3 указывает на то, что имеются проблемы с файлом цифровой подписи phpMussel или Map, вероятно они отсутствуют или повреждены; число -2 показывает, что повреждённые файлы найдены, но сканирование не закончено; -1 означает, что для сканирования необходимы отсутствующие PHP-расширения или дополнения, поэтому сканирование не завершено; 0 говорит о том, что цель не существует, а следовательно не может быть и проверена; 1 означает, что цель успешно проверена и проблем не найдено; 2 цель успешно проверена, но имеются проблемы. Единица задает функцию, выдать результат в форме читаемого текста. Двойка задаёт функцию получения результата в двух видах: в виде читаемого текста, и экспорт в глобальную переменную. Глобальная переменная является необязательной, её стандартная величина 0.
- `$output_flatness` это целое число (Integer), требующее выдать результат в виде дополнения или строки. Если цель состоит из нескольких элементов как, например, регистры или матрицы, то результатом операции будет матрица (со стандартным числом 0). Единица вызывает функцию, результатом которой будет сцепленная строка. Эта переменная является необязательной, её стандартная величина 0.

Например:

```PHP
 $results = $phpMussel['Scan']('/user_name/public_html/my_file.html', true, true);
 echo $results;
```

А вот как это выглядит в виде строки:

```
 Wed, 16 Sep 2013 02:49:46 +0000 Начало работы.
 > Проверить '/user_name/public_html/my_file.html':
 -> Проблемы не найдены.
 Wed, 16 Sep 2013 02:49:47 +0000 Готово.
```

Полный список используемых phpMussel подписей, а также порядок их обработки, Вы найдёте в разделе ФОРМАТ подписями.

При возникновении каких-либо тревожных сигналов, при обнаружении того, что по Вашему мнению должно быть заблокировано, или что-то не функционирует с подписями, просьба сообщить об этом автору, дабы можно было внести изменения и исправить ситуацию.

Информация по деактивированию содержащихся в phpMussel подписей находится в указаниях к серым спискам (Greylisting) в разделе УПРАВЛЕНИЕ ФРОНТЕНД.

#### 3.1 ИСПОЛЬЗОВАНИЕ (CLI; СПОСОБ КОМАНДНЫХ СТРОК)

Пожалуйста, обратитесь к разделу "ИНСТАЛЛЯЦИЯ ВРУЧНУЮ (CLI; СПОСОБ КОМАНДНЫХ СТРОК)" этого файла README.

В настоящее время phpMussel в CLI-модусе оптимизирована только для Windows; Но будущие версии будут поддерживать и другие системы. Естественно, Вы можете попробовать инсталлировать phpMussel и на другие системы, но никто Вам не даст гарантии, что программа будет функционировать как предусмотрено.

Кроме того необходимо иметь ввиду, что phpMussel является сканер *по требованию*; Это *НЕ* сканер *по доступу* (кроме как для загрузки файлов, в момент загрузки); Это не может заменить полноценное антивирусное программное обеспечение (это не проверяет рабочую память компьютера)! Это будет только обнаружить вирусы, содержащиеся на загрузки файлов, и на конкретные файлы которые Вы сказать что это для сканирования.

---


### 4. <a name="SECTION4"></a>УПРАВЛЕНИЕ ФРОНТЕНД

#### 4.0 ЧТО ЯВЛЯЕТСЯ ФРОНТЕНД.

Фронтенд обеспечивает удобный и простой способ для поддержания, управления и обновить инсталляция phpMussel. Вы можете просматривать, обмениваться и скачать лог-файлы через страницу для лог-файлы, Вы можете изменить конфигурацию с помощью страницы конфигурации, Вы можете устанавливать и удалять компоненты через страницу обновления, и вы можете загрузить, скачать, и изменять файлы в вашем vault с помощью файл менеджер.

Фронтенд по умолчанию отключена в целях предотвращения несанкционированного доступа (несанкционированного доступа может иметь серьезные последствия для вашего веб-сайта и его безопасности). Инструкции по включению его включены ниже этого пункта.

#### 4.1 КАК ВКЛЮЧИТЬ ФРОНТЕНД.

1) Найдите директиву `disable_frontend` внутри `config.ini`, и установить его на `false` (это будет `true` по умолчанию).

2) Перейти на `loader.php` из вашего браузера (например, `http://localhost/phpmussel/loader.php`).

3) Войти с именем пользователя и паролем по умолчанию (admin/password).

Заметка: После того, как Вы вошли в первый раз, в целях предотвращения несанкционированного доступа к фронтенд, Вы должны немедленно изменить имя пользователя и пароль! Это очень важно, потому что это можно загрузить произвольный PHP код на свой веб-сайт через фронтенд.

#### 4.2 КАК ИСПОЛЬЗОВАТЬ ФРОНТЕНД.

Инструкции предоставляются на каждой странице в фронтенд, чтобы объяснить правильный способ использовать его и его целевое назначение. Если Вам нужна дополнительная объяснение или любой специальный помощь, обратитесь в поддержки. Дополнительно, есть некоторые видео доступны на YouTube, которые могли бы помочь путем демонстрации.


---


### 5. <a name="SECTION5"></a>CLI (СПОСОБ КОМАНДНЫХ СТРОК)

В Windows системах phpMussel может быть использована как интерактивный сканер в CLI-модусе. Для этого прочитайте раздел "ИНСТАЛЛЯЦИЯ (CLI; СПОСОБ КОМАНДНЫХ СТРОК)".

Для получения доступа к имеющимся в распоряжении CLI-командам, внесите в командную строку «с» (ANSI/ASCII) и подтвердите свою команду, нажав «Enter».

Дополнительно, для тех кто заинтересован, видео-учебник о том как использовать phpMussel в CLI-модусе доступна здесь:
- <https://www.youtube.com/watch?v=H-Pa740-utc>

---


### 6. <a name="SECTION6"></a>СОДЕРЖАНИЕ ПАКЕТА ФАЙЛОВ

Следующая таблица содержит все файлы, содержащиеся в скаченном архиве руководства, а также файлы, которые можно создать, используя данное руководство, с кратким описанием этих файлов.

Файл | Описание
----|----
/_docs/ | Регистр с документами (содержит различные файлы).
/_docs/readme.ar.md | Документация на Арабском языке.
/_docs/readme.de.md | Документация на Немецком языке.
/_docs/readme.en.md | Документация на Английском языке.
/_docs/readme.es.md | Документация на Испанском языке.
/_docs/readme.fr.md | Документация на Французском языке.
/_docs/readme.id.md | Документация на Индонезийском языке.
/_docs/readme.it.md | Документация на Итальянском языке.
/_docs/readme.ja.md | Документация на Японском языке.
/_docs/readme.ko.md | Документация на Корейском языке.
/_docs/readme.nl.md | Документация на Нидерланском языке.
/_docs/readme.pt.md | Документация на Португальском языке.
/_docs/readme.ru.md | Документация на Русском языке.
/_docs/readme.ur.md | Документация на Урду языке.
/_docs/readme.vi.md | Документация на Вьетнамском язык.
/_docs/readme.zh-TW.md | Документация на Китайском традиционный.
/_docs/readme.zh.md | Документация на Китайском упрощенный.
/_testfiles/ | Регистр с различными файлами тестов. Находящиеся здесь файлы контролируют правильность установки phpMussel в Вашей системе. В случае если Вы не хотите проводить такой тест, этот регистр или файлы можете не загружать.
/_testfiles/ascii_standard_testfile.txt | Тестовый файл, контролирующий опознавание нормированных ASCII подписями.
/_testfiles/coex_testfile.rtf | Тестовый файл для контроля комплекса расширенного опознавания подписями.
/_testfiles/exe_standard_testfile.exe | Тестовый файл, контролирующий опознание PE подписями.
/_testfiles/general_standard_testfile.txt | Тестовый файл, контролирующий опознание универальных пописей.
/_testfiles/graphics_standard_testfile.gif | Тестовый файл, конролирующий опознание графических подписями.
/_testfiles/html_standard_testfile.html | Тестовый файл, контролирующий опознание нормированных HTML подписями.
/_testfiles/md5_testfile.txt | Тестовый файл, контролирующий опознание MD5 подписями.
/_testfiles/ole_testfile.ole | Тестовый файл, контролирующий опознание OLE подписями.
/_testfiles/pdf_standard_testfile.pdf | Тестовый файл, контролирующий опознание PDF подписями.
/_testfiles/pe_sectional_testfile.exe | Тестовый файл, контролирующий опознание секционных PE подписями.
/_testfiles/swf_standard_testfile.swf | Тестовый файл, контролирующий SWF-подписи.
/vault/ | Vault-регистр (содержит различные файлы)
/vault/cache/ | Cache-регистр (для промежуточных данных).
/vault/cache/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/fe_assets/ | Данные для фронтенд.
/vault/fe_assets/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/fe_assets/_accounts.html | Шаблон HTML для учетными записями страница в фронтенд.
/vault/fe_assets/_accounts_row.html | Шаблон HTML для учетными записями страница в фронтенд.
/vault/fe_assets/_config.html | Шаблон HTML для конфигурация страница в фронтенд.
/vault/fe_assets/_config_row.html | Шаблон HTML для конфигурация страница в фронтенд.
/vault/fe_assets/_files.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_files_edit.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_files_rename.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_files_row.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_home.html | Шаблон HTML для домашняя страница в фронтенд.
/vault/fe_assets/_login.html | Шаблон HTML для войти страница в фронтенд.
/vault/fe_assets/_logs.html | Шаблон HTML для лог-файлы страница в фронтенд.
/vault/fe_assets/_nav_complete_access.html | Шаблон HTML для навигационные ссылки в фронтенд, для тех кто с полным доступом.
/vault/fe_assets/_nav_logs_access_only.html | Шаблон HTML для навигационные ссылки в фронтенд, для тех кто с доступом только к лог-файлы.
/vault/fe_assets/_updates.html | Шаблон HTML для обновления страница в фронтенд.
/vault/fe_assets/_updates_row.html | Шаблон HTML для обновления страница в фронтенд.
/vault/fe_assets/_upload_test.html | Шаблон HTML для тестовая загрузка страница.
/vault/fe_assets/frontend.css | CSS стиль листов для фронтенд.
/vault/fe_assets/frontend.dat | База данных для фронтенд (содержит информации об учетными записями и сессий; генерируется только если фронтенд будет активирована и используется).
/vault/fe_assets/frontend.html | Основной файл шаблона HTML для фронтенд.
/vault/fe_assets/icons.php | Обработчик иконки (файл менеджер фронтенд использует его).
/vault/fe_assets/pips.php | Обработчик пипсов (файл менеджер фронтенд использует его).
/vault/lang/ | Содержит phpMussel файлы на разных языках.
/vault/lang/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/lang/lang.ar.fe.php | Арабском языковые файлы для фронтенд.
/vault/lang/lang.ar.php | Арабском языковые файлы.
/vault/lang/lang.de.fe.php | Немецком языковые файлы для фронтенд.
/vault/lang/lang.de.php | Немецком языковые файлы.
/vault/lang/lang.en.fe.php | Английском языковые файлы для фронтенд.
/vault/lang/lang.en.php | Английском языковые файлы.
/vault/lang/lang.es.fe.php | Испанском языковые файлы для фронтенд.
/vault/lang/lang.es.php | Испанском языковые файлы.
/vault/lang/lang.fr.fe.php | Французском языковые файлы для фронтенд.
/vault/lang/lang.fr.php | Французском языковые файлы.
/vault/lang/lang.id.fe.php | Индонезийском языковые файлы для фронтенд.
/vault/lang/lang.id.php | Индонезийском языковые файлы.
/vault/lang/lang.it.fe.php | Итальянском языковые файлы для фронтенд.
/vault/lang/lang.it.php | Итальянском языковые файлы.
/vault/lang/lang.ja.fe.php | Японском языковые файлы для фронтенд.
/vault/lang/lang.ja.php | Японском языковые файлы.
/vault/lang/lang.ko.fe.php | Корейском языковые файлы для фронтенд.
/vault/lang/lang.ko.php | Корейском языковые файлы.
/vault/lang/lang.nl.fe.php | Нидерланском языковые файлы для фронтенд.
/vault/lang/lang.nl.php | Нидерланском языковые файлы.
/vault/lang/lang.pt.fe.php | Португальском языковые файлы для фронтенд.
/vault/lang/lang.pt.php | Португальском языковые файлы.
/vault/lang/lang.ru.fe.php | Русском языковые файлы для фронтенд.
/vault/lang/lang.ru.php | Русском языковые файлы.
/vault/lang/lang.th.fe.php | Тайском языковые файлы для фронтенд.
/vault/lang/lang.th.php | Тайском языковые файлы.
/vault/lang/lang.ur.fe.php | Урду языковые файлы для фронтенд.
/vault/lang/lang.ur.php | Урду языковые файлы.
/vault/lang/lang.vi.fe.php | Вьетнамском языковые файлы для фронтенд.
/vault/lang/lang.vi.php | Вьетнамском языковые файлы.
/vault/lang/lang.zh-tw.fe.php | Китайском традиционный языковые файлы для фронтенд.
/vault/lang/lang.zh-tw.php | Китайском традиционный языковые файлы.
/vault/lang/lang.zh.fe.php | Китайском упрощенный языковые файлы для фронтенд.
/vault/lang/lang.zh.php | Китайском упрощенный языковые файлы.
/vault/quarantine/ | Карантинный-регистр (содержит файлы, находящиеся на карантине).
/vault/quarantine/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/signatures/ | Подписи-регистр (содержит подписи файлы).
/vault/signatures/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/signatures/switch.dat | Этот файл определяет некоторые переменные величины.
/vault/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/cli.php | Обработчик CLI (Способ Командных Строк).
/vault/components.dat | Содержит информацию, относящуюся к различным компонентам phpMussel; Используется из функцией Обновления, предоставленной из фронтенд.
/vault/config.ini.RenameMe | Файл с конфигурации. Содержит всевозможные конфигурации phpMussel (переименовать чтобы активировать).
/vault/config.php | Обработчик конфигурации.
/vault/config.yaml | Файл с умолчанию конфигурации; Содержит значения по умолчанию для конфигурации phpMussel.
/vault/frontend.php | Обработчик фронтенд.
/vault/functions.php | Функции файла (обязательно).
/vault/greylist.csv | CSV-подписи, занесённые в серый список, которые phpMussel должна игнорировать (после удаления файл автоматически создаётся заново).
/vault/lang.php | Язык обработчика.
/vault/php5.4.x.php | Полифилл для PHP 5.4.X (требуется для PHP 5.4.X обратная совместимость; безопасно для удаления для новых версий PHP).
※ /vault/scan_kills.txt | Опись всех файлов, загрузка которых была заблокирована phpMussel.
※ /vault/scan_log.txt | Опись всех просканированных phpMussel объектов.
※ /vault/scan_log_serialized.txt | Опись всех просканированных phpMussel объектов.
/vault/template_custom.html | Шаблонный файл. Шаблон для HTML-формата сообщений, сообщающий о том, что загрузка файла была заблокирована phpMussel (сообщение, которое будет показано пользователю).
/vault/template_default.html | Шаблонный файл. Шаблон для HTML-формата сообщений, сообщающий о том, что загрузка файла была заблокирована phpMussel (сообщение, которое будет показано пользователю).
/vault/themes.dat | Файл темы; Используется из функцией Обновления, предоставленной из фронтенд.
/vault/upload.php | Обработчик загрузить.
/.gitattributes | Файл из GitHub проекта (на эффективность данного руководства не влияет).
/Changelog-v1.txt | Перечень внесённых в руководство изменений и его различные версии (на эффективность данного руководства не влияет).
/composer.json | Composer/Packagist информация (на эффективность данного руководства не влияет).
/CONTRIBUTING.md | Информация о том как внести свой вклад в проект.
/LICENSE.txt | Копия лицензии GNU/GPLv2 (на эффективность данного руководства не влияет).
/loader.php | Загрузчик. Этот файл будет связан с Вашей системой управления содержимым (обязательно!).
/PEOPLE.md | Информация о лицах участвующих в проекте.
/README.md | Резюме информации о проекте.
/web.config | Файл с ASP.NET-конфигурации. Этот файл необходим для защиты `/vault` регистров от неавторизованного доступа, когда руководство инсталлируется на один из серверов, базирующихся на ASP.NET-технологиях.

※ Название файла может варьироваться, в зависимости от конфигурации в `config.ini`.

---


### 7. <a name="SECTION7"></a>НАСТРОЙКИ
Ниже представлен список переменных данных в файле конфигурации `config.ini`, а также краткое описание их функций.

#### "general" (Категория)
Генеральная конфигурация от phpMussel.

"cleanup"
- После исполнения стирает переменные величины данного руководства и очищает кэш-память. Если Вы не хотите пользоваться руководством после того, как проверили загрузку программы, то установите опцию `true`, чтобы минимизировать загрузку памяти. Если Вы будете использовать руководство и для других целей, то установите опцию `false`, дабы избежать ненужного многократного считывания данных в памяти. Как правило, устанавливается опция `true`, но потом Вы сможете пользоваться руководством только для контроля файлов.
- Не воздействует на CLI-модус.

"scan_log"
- Название файла, в который записываются результаты всех контрольных проверок. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

"scan_log_serialized"
- Название файла, в который записываются результаты всех контрольных проверок (сериализовано Формат). Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

"scan_kills"
- Название файла, в который записываются все заблокированные загрузки. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

*Полезный совет: Если Вы хотите, Вы можете добавить информацию о дате/времени к именам файлов журналов путем включения их во имя: `{yyyy}` для полный год, `{yy}` для сокращенный год, `{mm}` для месяц, `{dd}` для день, `{hh}` для час.*

*Примеры:*
- *`scan_log='scan_log.{yyyy}-{mm}-{dd}-{hh}.txt'`*
- *`scan_log_serialized='scan_log_serialized.{yyyy}-{mm}-{dd}-{hh}.txt'`*
- *`scan_kills='scan_kills.{yyyy}-{mm}-{dd}-{hh}.txt'`*

"truncate"
- Усекать лог-файлы, когда они достигают определенного размера? Значение это максимальный размер в Б/КБ/МБ/ГБ/ТБ, до которого файл журнала может увеличиться до усечения. Стандартное значение 0КБ отключает усечение (лог-файлы может расти неограниченно). Примечание: относится к отдельным лог-файлы! Размер файлов журнала не учитывается совместно.

"timeOffset"
- Если ваш сервер времени не соответствует вашему местному времени, Вы можете указать смещение здесь для корректировки информации о дате/времени генерируется от phpMussel в соответствии с вашими потребностями. Обычно рекомендуется вместо того, чтобы настроить директиву о зоне времени в файле `php.ini`, но иногда (например, при работе с общими хостинг-провайдеров, которые ограничены) это не всегда возможно, и так, эта опция представлена здесь. Смещение описывается как минут.
- Пример (добавить один час): `timeOffset=60`

"timeFormat"
- Формат нотации даты, используемый phpMussel. Стандарт = `{Day}, {dd} {Mon} {yyyy} {hh}:{ii}:{ss} {tz}`.

"ipaddr"
- Место IP-адреса актуального соединения в общем потоке данных (полезно для Cloud-сервиса). Стандарт = REMOTE_ADDR. Внимание! Изменяйте это значение только в том случае, если Вы уверены в своих действиях!

"enable_plugins"
- Включить поддержку phpMussel плагинов? False = Нет; True = Да [Стандарт].

"forbid_on_block"
- Возвращённый 403-HTTP-заголовок при заблокированной загрузке данных. False = Нет (200); True = Да (403) [Стандарт].

"delete_on_sight"
- Эта опция позволяет в течение сканирования немедленно удалять файлы при наличии в них опознавательных признаков, содержащихся в подписи или других методах. При этом не будут затрагиваться файлы, идентифицированные как неинфицированные. Если в архиве будет инфицирован хотя бы один файл, то будет удалён весь архив. Во время загрузки файлов эту функцию активировать не обязательно, так как PHP после исполнения удаляет содержимое кэш-памяти. Это означает, что PHP удалит каждый скаченный через сервер файл, если он не перемещён, не скопирован или не удалён. Эта опция, как дополнительная мера, была введена для большей безопасности, но в основном для систем, в которых PHP ведёт себя по-другому. False = После проверки файл останется нетронутым [Стандарт]; True = После проверки инфицированный файл будет немедленно удалён.

"lang"
- Задаёт phpMussel стандарт языка.

"quarantine_key"
- phpMussel способна держать на карантине попытки загрузить файл, если это будет Вам нужно. Эту функцию должны деактивировать те пользователи, которые хотят лишь защитить свои интернет-сайты или окружение своего хоста, но дальнейший контроль выделенных файлов им не интересен. Активировать эту функцию должны те пользователи, которые хотят анализировать изолированные файлы на вредоносность или тому подобное. Изоляция выделенных файлов иногда может использоваться для поиска ошибки при частом появлении сигнала тревоги. Чтобы деактивировать функцию карантина, не заполняйте `quarantine_key`, и удалите содержание строки, если она заполнена. Для активирования функции карантина задайте значение. `quarantine_key` = Это важный элемент карантинной функции, способная защитить функцию карантина от атак вредоносных программ, и предотвратить запуск удерживаемых на карантине файлов. Значение `quarantine_key` Вы должны хранить втайне от всех, как и пароли. Оптимально в сочетании с `delete_on_sight`.

"quarantine_max_filesize"
- Максимально допустимый объём файлов, которые могут быть изолированы в карантине. В карантинном регистре НЕ будет сохраняться файлы, объём которых больше указанного значения. Эта команда важна тем, что затрудняет потенциальному агрессору наводнить нежелательными данными ваш карантинный регистр, а также кэш-память вашего хост-сервера. Стандарт = 2МБ.

"quarantine_max_usage"
- Максимально допустимая загрузка карантина. Когда общий объём файлов на карантине достигает этого значения, то начинают удаляться старые файлы пока не будет достигнуто необходимое значение. Эта команда важна тем, что затрудняет потенциальному агрессору наводнить нежелательными данными ваш карантинный регистр, а также кэш-память вашего хост-сервера. Стандарт = 64МБ.

"honeypot_mode"
- При активированном Honeypot-модуса phpMussel изолирует каждый загружаемый файл без всякой проверки, не обращая внимание на подписи. Эта функция предназначена исключительно для исследования вирусов и вредоносных программ. Мы рекомендуем использовать эту функцию phpMussel исключительно для "Honeypotting", а не для проверки загружаемых файлов или других целей. В стандартной комплектации эта функция деактивирована. False = Деактивировано [стандартное значение]; True = Активировано.

"scan_cache_expiry"
- Как долго должна phpMussel хранить результаты сканирования в буфере? Значение измеряется секундами. Стандартное значение 21600 секунд (6 часов). Значение равное 0 деактивирует временную память результатов сканирования.

"disable_cli"
- Деактивировать ли CLI-модус? Обычно CLI-модус активирован. Однако иногда он может отрицательно влиять на определённые тестовые программы (например на PHPUnit) и другие приложения, базирующиеся на CLI. Если CLI-модус нельзя деактивировать, то эту команду нужно игнорировать. False = CLI-модус активирован [Стандарт]; True = CLI-модус деактивирован.

"disable_frontend"
- Деактивировать доступ к фронтенд? Доступ к фронтенд может сделать phpMussel более управляемым, но также может быть потенциальный риск безопасности. Рекомендуется чтобы управлять phpMussel через back-end когда возможно, но доступ к фронтенд предоставлен для того когда это не возможно. Держите его деактивирована за исключением того если Вам это нужно. False = Активировать доступ к фронтенд; True = Деактивировать доступ к фронтенд [Стандарт].

"max_login_attempts"
- Максимальное количество попыток входа в систему (фронтенд). Стандарт = 5.

"FrontEndLog"
- Файл для запись всех попыток входа в фронтенд. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

"disable_webfonts"
- Отключить веб-шрифты? True = Да; False = Нет [Стандарт].

#### "signatures" (Категория)
Конфигурация подписями.

"Active"
- Список активных файлов сигнатур, разделенных запятыми.

"fail_silently"
- Реакция phpMussel на отсутсвие подписей или дефект в них. Когда `fail_silently` деактивирована, то в течение сканирования будет сообщаться об отсутствии подписи или изъянах в ней. В случае если `fail_silently` активирована, то отсутствующие или дефектные подписи будут игнорироваться, не сообщая о проблемах. Эта опция должна оставаться такой, если только Вы не ожидаете отказа системы или чего-то подобного. False = Деактивировано; True = Активировано [Стандарт].

"fail_extensions_silently"
- Должна phpMussel сообщать, что отсутствует расширение файла? Если `fail_extensions_silently` деактивирована, то при сканировании придёт сообщение об отсутствии расширения файла, если же `fail_extensions_silently` активирована, то файлы с отсутствующим расширением будут игнорироваться, и при сканировании придёт сообщение, что с этими файлами всё в порядке. Деактивация или активация могут повысить Вашу безопасность, однако способствовать увеличению ложных сообщений. False = Деактивировано; True = Активировано [Стандарт].

"detect_adware"
- Интерпретировать подписей для обнаружить рекламное программное? False = Нет; True = Да [Стандарт].

"detect_joke_hoax"
- Интерпретировать подписей для обнаружить шутка вредоносные/вирусы программы? False = Нет; True = Да [Стандарт].

"detect_pua_pup"
- Интерпретировать подписей для обнаружить PUAs/PUPs (потенциально нежелательных программы/приложений)? False = Нет; True = Да [Стандарт].

"detect_packer_packed"
- Интерпретировать подписей для обнаружить упаковщики и упакованные данные? False = Нет; True = Да [Стандарт].

"detect_shell"
- Интерпретировать подписей для обнаружить веб-шелл скрипты? False = Нет; True = Да [Стандарт].

"detect_deface"
- Интерпретировать подписей для обнаружить дифейсмент/обезображивание программы? False = Нет; True = Да [Стандарт].

#### "files" (Категория)
Файл обработки конфигурации.

"max_uploads"
- Максимально разрешённое количество проверяемых файлов в течение одной загрузки файлов. Если количество скачиваемых файлов превышает это значение, то, прежде чем сканирование прекратится, пользователь будет об этом проинформирован. Эта опция защищает от теоретической DDoS-атаки на вашу систему или CMS, тем что, пока агрессор перегружает phpMussel, останавливается PHP-процесс. Рекомендуется установить число 10. В зависимости от мощности вашего устройства Вы можете повышать или уменьшать это значение. Внимание! Это значение не учитывает содержание архивов.

"filesize_limit"
- Ограничение объема файла в килобайтах. 65536 = 64MB [Стандарт]; 0 = без ограничений (устанавливается для «серого листа»), принимается любое (положительное) цифровое значение. Это полезно, если PHP-конфигурация Вашей системы в каждом процессе ограничивает использование имеющейся памяти или ограничивает объём загружаемого файла.

"filesize_response"
- Обработка файлов, превышающих ограничение объёма файлов (если указано). False = Добавить к белому списку; True = Добавить к чёрному списку [Стандарт].

"filetype_whitelist", "filetype_blacklist", "filetype_greylist"
- Если ваша система позволяет или полностью запрещает загружать специальные файлы, то, отсортировав их на белый, чёрный или серый список, программа ускоряет процесс сканирования, пропуская эти типы файлов. Формат CSV (comma separated values, отделяемые запятой величины). Если Вы хотите подвергнуть проверке всё, то оставьте переменные величины пустыми, это деактивирует белый, чёрный и серый списки.
- Логичная последовательность обработки:
  - Файл, занесённый с белый список, сканирует не блокируя; файл из белого или серого списка не проверяет.
  - Файл из чёрного списка не сканирует, но всё же блокирует; файл из серого списка не проверяет.
  - Если файл относится к типу файлов, занесённых в серый список, то независимо от того пуст или заполнен серый список, программа будет сканировать файл как обычно и, базируясь на сканировании, определит должен ли он блокироваться или нет; если серый список заполнен и тип файла не значится в сером списке, то программа поступит с ним так, как будто он занесён в чёрный список, т.е. не сканирует его, но всё равно блокирует.

"check_archives"
- Нужно ли проверять содержимое архивов? False = Нет (никакой проверки); True = Да (будет проверяться) [Стандарт].
- В настоящее время поддерживается проверка только BZ/BZIP2, GZ/GZIP, LZF, PHAR, TAR и ZIP архивов (на данный момент проверка RAR, CAB, 7z и др. не поддерживается).
- Функция не надёжна! Мы настоятельно рекомендуем оставить эту функцию активированной, хотя не можем гарантировать, что обнаружено будет всё.
- Архивная проверка в данный момент не рекурсивна для PHAR-архивов или ZIP-архивов.

"filesize_archives"
- Должен ли объём файла чёрного/белого списка быть перенесён на содержание архива? False = Нет (всё поместить в серый лист); True = Да [Стандарт].

"filetype_archives"
- Должен ли тип файла чёрного/белого списка быть перенесён на содержание архива? False = Нет (всё поместить в серый лист) [Стандарт]; True = Да.

"max_recursion"
- Максимальная граница рекурсионной глубины архивов. Стандарт = 10.

"block_encrypted_archives"
- Нужно ли узнавать и блокировать зашифрованные архивы? phpMussel не может сканировать зашифрованные архивы. Не исключена вероятность того, что кодировка архива используется агрессором, чтобы избежать phpMussel, антивирусных сканеров и других подобных защитных программ. Умение phpMussel блокировать зашифрованные архиВы может быть поможет уменьшить риски, связанные с этой возможностью. False = Нет; True = Да [Стандарт].

#### "attack_specific" (Категория)
Атака конкретных директив.

Определение хамелеон-атаки: False = Деактивировано; True = Активировано.

"chameleon_from_php"
- Поиск PHP-заголовков в файлах, которые не были опознаны ни как PHP-файлы, ни как архивы.

"chameleon_from_exe"
- Поиск способных загрузиться заголовков в файлах, которые нельзя ни загрузить, ни определить как архив; поиск способных загрузиться файлов, чьи заголовки не соответствуют требованиям.

"chameleon_to_archive"
- Поиск архивов с некорректными заголовками (поддерживаются: BZ, GZ, RAR, ZIP, GZ).

"chameleon_to_doc"
- Поиск офисных документов с некорректными заголовками (поддерживаются: DOC, DOT, PPS, PPT, XLA, XLS, WIZ).

"chameleon_to_img"
- Поиск графиков с некорректными заголовками (поддерживаются: BMP, DIB, PNG, GIF, JPEG, JPG, XCF, PSD, PDD, WEBP).

"chameleon_to_pdf"
- Поиск PDF-файлов с некорректными заголовками.

"archive_file_extensions"
- Опознаёт расширение архива или файла (CSV-формат; включать или удалять только при проблемах; удаление без нужны может вызвать для архива сигнал тревоги; включение без нужды может внести в белый список то, что раньше определялось как возможная атака; изменяйте список очень осторожно; помните, что программа не влияет на функцию архива и не может анализировать содержание). Этот список содержит форматы архивов, наиболее часто используемых большинством систем и CMS, однако он не завершён, но сделано это намеренно.

"block_control_characters"
- Должны ли файлы, содержащие командные сигналы (отличные от Newline/конец строки), быть блокированными (`[\x00-\x08\x0b\x0c\x0e\x1f\x7f]`)? При загрузке только «голого» текста Вы можете активировать эту опцию, чтобы усилить защиту своей системы. Но когда она активирована, а Вы хотите загрузить не только текст, то программа подаст Вам ложный сигнал тревоги. False = Не блокировать [Стандарт]; True = Блокировать.

"corrupted_exe"
- Дефектные файлы и разобрать ошибки. False = Игнорировать; True = Блокировать [Стандарт]. Должны ли потенциально дефектные файлы при загрузке проверяться и блокироваться? В случае когда определённые аспекты PE-файла повреждены или могут быть неправильно обработаны, то часто (однако не всегда) они идентифицируются как инфицированные файлы. Многие антивирусные программы используют различные методы по опознанию вирусов в таких файлах. Программисты вирусов, зная об этом, прилагают много усилий к тому, чтобы вирус остался неопознанным.

"decode_threshold"
- Порог числа исходных данных, которые должны узнаваться командой декодирования (если во время процесса сканирования не возникнут ощутимые проблемы производительности). Стандартная установка 512КБ. Ноль или нулевое значение деактивирует ограничение (все такие ограничения нужно устранять, ориентируясь на величину файла).

"scannable_threshold"
- Порог числа исходных данных, которые phpMussel должна прочитать и просканировать (если во время процесса сканирования возникнут ощутимые проблемы производительности). Стандартная установка 32МБ. Ноль или нулевое значение деактивирует ограничения. Основное правило: это значение должно быть меньше среднего объёма загружаемых файлов, которые Вы хотите скачать на свой сервер или веб-страницу, не больше нормы filesize_limit, и не превышать пятой части общей PHP-памяти `php.ini` файлов конфигурации. Эти правила не дают phpMussel использовать слишком большой объём памяти (что препятствовало бы phpMussel успешно сканировать файлы, превышающие определенную величину).

#### "compatibility" (Категория)
ДиректиВы совместимости для phpMussel.

"ignore_upload_errors"
- Как правило, эта директива находится в положении False/Деактивировано, если только нет потребности в ней для правильного функционирования phpMussel на вашей системе. При находящейся в положении False/Деактивировано директиве phpMussel, опознав нѐкий элемент в `$_FILES` array(), начинает проверять файлы, представляющие этот элемент. В случае если файлы окажутся пустыми, phpMussel подаёт сигнал тревоги. Это нормальная реакция phpMussel. Однако некоторые CMS нормальными считают пустые элементы в `$_FILES`, и сигнал тревоги подаётся в случае отсутствия пустых элементов. В этой ситуации возникает конфликт между нормальным поведением phpMussel и CMS. Если это касается вашей CMS, то Вам необходимо переключить опцию в позицию True/Активировано, тогда phpMussel не будет искать пустые элементы, а найдя будет их игнорировать, не сообщая об ошибке. Сигнал запроса страницы, таким образом, может продолжаться. False = Деактивировано; True = Активировано.

"only_allow_images"
- Ожидая загрузку на Вашу систему или CMS только графических изображений, или Вы желаете, чтобы загружались только графические изображения и больше никакие другие файлы, то эта директива должна быть активирована (ON), во всех остальных случаях она остаётся деактивированной (OFF). Активация этой директиВы заставит phpMussel блокировать все попытки загрузить файлы, не относящиеся к графикам, не сканируя их. Эта директива поможет сократить время обработки и улучшить использование памяти, когда будут загружаться файлы, не относящиеся к графическим изображениям. False = Деактивировано; True = Активировано.

#### "heuristic" (Категория)
Эвристические-директиВы для phpMussel.

"threshold"
- phpMussel имеет определённые подписи, с помощью которых она идентифицирует подозрительные и потенциально вредоносные свойства загружаемых файлов, не проверяя при этом сами файлы на вредоносность. При помощи этой директиВы phpMussel определяет степень опасности подозрительных и потенциально вредоносных файлов, прежде чем назвать их вредоносными. В этой связи, определение степени опасности = это общее количество подозрительных и потенциально вредоносных свойств. Стандартное значение равняется 3. Значение меньше 3, как правило, ведёт к увеличению  ложных сигналов тревоги и опознанию большего числа вредных файлов; значение больше 3 вызывает меньшее количество ложных сигналов тревоги и метиться как вредные будет незначительное количество файлов. Оставив это значение таким, Вы должны осознавать проблемы, которые будут вызваны этой установкой.

#### "virustotal" (Категория)
VirusTotal.com директивы.

"vt_public_api_key"
- Для большей защиты от вирусов, троянов, вредоносных программ и других угроз phpMussel может сканировать файлы с Virus Total API. Стандартная установка = опция Virus Total API деактивирована. Для активизации нужно воспользоваться API-ключом от Virus Total. Эта опция даёт много преимуществ, поэтому рекомендуется её активировать. Важно осознавать: для использования Virus Total API, необходимо согласиться со всеми условиями пользования и соблюдать все директивы, описанные в документах Virus Total! Эту функцию интеграции нельзя применять КРОМЕ:
  - Вы прочитали инструкцию по использованию Virus Total и API и согласен с ней. Инструкцию по использованию Virus Total и API можно найти [Здесь](https://www.virustotal.com/en/about/terms-of-service/).
  - Как минимум, Вы прочитали предисловие к Virus Total Public API документации и понял о чём речь (всё после "Virus Total Public API v2.0" но до "Contents"). Документацию Virus Total Public API можно найти [Здесь](https://www.virustotal.com/en/documentation/public-api/).

Примечание: Когда сканирование файлов с Virus Total API деактивировано, то нет нужды проверять директиВы этой категории (`virustotal`), потому что нельзя проверить то, что деактивировано. Для получения Virus Total API ключа, нужно пойти на их веб-страницу и вверху справа найти ссылку «Вступить в сообщество». Указав все требуемые данные, кликните в «Зарегистрироваться». Выполнив все указания, Вы получите открытые API-ключи, скопируйте их и введите API-ключ в `vt_public_api_key` директиву `config.ini` файла конфигурации.

"vt_suspicion_level"
- Допуская файлы к сканированию Virus Total API, phpMussel будет ограничиваться только теми файлами, которые рассматриваются «опасными». Опционально Вы можете регулировать эти ограничения, изменив значение `vt_suspicion_level` директивы.
- `0`: Файлы будут рассматриваться подозрительными только тогда, когда через сканирование собственными подписями phpMussel присвоит им эвристическую степень опасности. Можно считать, что Virus Total API используется как второе мнение в случае, когда phpMussel подозревает, что файл повреждён, и нельзя полностью исключить, что он потенциально безвреден. Обычно такой файл не будет блокироваться или метиться как вредный.
- `1`: Файлы будут восприниматься подозрительными, когда через сканирование собственными подписями phpMussel присвоит им эвристическую степень опасности; когда они являются файлами, которые можно загружать, такие как PE файлы, Mach-O файлы, ELF/Linux файлы и др., или имеют формат макрос, DOC/DOCX, файлы архивов как RAR, ZIP и др. Это нормальная и рекомендуемая степень подозрительности. В случае когда предположительно опасный файл phpMussel не признаёт вредоносным или противоречивым и, следовательно, не блокирует его и не маркирует как опасный, тогда Virus Total API будет использоваться для второго мнения.
- `2`: Virus Total API должна просканировать все файлы, так как все они будет рассматриваться как подозрительные. Я не советую применять эту степень подозрительности, потому что при ней API-лимит достигается намного быстрее, чем обычно. Правда, есть определённые обстоятельства, когда эта степень подозрительности была бы уместной, например, веб-мастер или хост-мастер мало доверяют загружаемому содержанию пользователя. При этой степени подозрительности все файлы, которые обычно не блокируются и не маркируются как вредоносные, будут сканироваться Virus Total API. Помни! phpMussel не будет использовать Virus Total API, если достигнут API-лимит, не зависимо от степени подозрительности. API-лимит, скорее всего, будет достигнут намного быстрее, если использовать эту степень подозрительности.

Примечание: Независимо от степени подозрительности файлы находящиеся в белом или чёрном списке будут проверятся не phpMussel, а с помощью Virus Total API. Так как эти файлы, просканированные по-другому, перед этим уже были задекларированы как вредные или безвредные, то дополнительное сканирование не требуется. Совместное сканирование файлов phpMussel и Virus Total API предусмотрено для увеличения доверия независимо от ситуации, когда phpMussel не доверяет сам себе в определении вреден ли файл или безвреден.

"vt_weighting"
- Должна phpMussel использовать результаты сканирования с Virus Total API в качестве опознания или как определение степени доверия? Существование этой директиВы объясняется тем, что сканирование файла со многими ядрами должно быть более тщательным (как это делает Virus Total) и, следовательно, будет найдено большее количество вредоносных файлов, что может привести к большему количеству ложных тревог. Есть ситуации, когда результаты сканирования бывают выше степени доверия, и тогда применяется однозначный результат. Применение значения 0 означает, что результаты сканирования будут применяться как опознание. В этом случае phpMussel будет рассматривать файл как вредоносный, если какие-то используемые в сканировании ядра файлов Virus Total обозначил опасными. При установке другого значения, результаты сканирования с Virus Total API будут использоваться как определение степени доверия. Количество используемых Virus Total ядер, обозначающих файл как вредоносный, будет служить степенью доверия (или определением степени доверия). Используемое значение будет определять, какую степень доверия (минимальную или требуемую) примет phpMussel во внимание, чтобы признать сканируемый файл вредоносным или безвредным. Стандартное значение = 0.

"vt_quota_rate" и "vt_quota_time"
- Согласно Virus Total API-документации «Лимит времени, за которое должны обрабатываться 4 любых запроса, составляет 1 минуту. Используя Honeyclient, Honeypot или какую-либо другую активную систему, которая содействует VirusTotal, и не только вызывает сообщения, то Вы имеете право на более высокий лимит времени». phpMussel будет строго придерживаться этого лимита. Для его повышения даны эти две директивы, указывающие phpMussel на какой лимит она должна ориентироваться. Рекомендуется без необходимости это значение не повышать. С возникновением проблем по достижению лимита, уменьшение этого значения должно немного помочь. Твой лимит будет установлен как `vt_quota_rate` запросы любого типа в каждом `vt_quota_time` минутном промежутке времени.

#### "urlscanner" (Категория)
В phpMussel есть URL сканер, способен обнаружить вредоносные URL-адреса изнутри данных или файлов отсканированных.

Примечание: Если URL сканер деактивирован, то нет нужды проверять директиВы этой категории (`urlscanner`).

URL сканер API конфигурация.

"lookup_hphosts"
- Активировать [hpHosts](http://hosts-file.net/) API интеграция если `true`. hpHosts не нужен API ключ для API интеграция.

"google_api_key"
- Активировать Google Safe Browsing API интеграция если необходимое API ключ вводится. Google Safe Browsing API нужен API ключ для API интеграция, Вы можете получить [Здесь](https://console.developers.google.com/).
- Примечание: cURL расширение требуется для того, чтобы использовать эту функцию.

"maximum_api_lookups"
- Максимально допустимая количество API звонков, которые проводятся в каждом сессии сканирования. Потому каждый дополнительный API запрос, увеличивает время для сессии сканирования, Вы мог бы хотите, чтобы указать предел при определенных обстоятельствах чтобы ускорить процесс сканирования по всему. Если 0 установлен, нет предела применяется. Стандарт, значение установленов 10.

"maximum_api_lookups_response"
- Что должно произойти, если максимальное число допустимых API запросов будет достигнута? False = Не делайте ничего (Продолжить обработку) [Стандарт]; True = Отметить/блокировки файла.

"cache_time"
- Как долго (в секундах) результаты API вызовов, которые должны быть в кэше? Стандарт 3600 секунд (1 час).

#### "template_data" (Категория)
Директивы/Переменные для шаблоны и темы.

Шаблонный данных относится к HTML-вывода, используемый для генерации "Загрузить Отказано" сообщения отображается для пользователей когда/на загрузки/уплоад файлов блокируются. Если Вы используете персонализированные темы для phpMussel, HTML-выход получены из `template_custom.html` файл, а в противном случае, HTML-выход получены из `template.html` файл. Переменные, записанные в этом разделе файл конфигурации обрабатываются на HTML-выход в виде заменой любой имена переменных в окружении фигурных скобках найденный в HTML-вывода с соответствующей переменных данных. Например, где `foo="bar"`, любое вхождение `<p>{foo}</p>` найденный в HTML-вывода станет `<p>bar</p>`.

"theme"
- Стандартная тема для phpMussel.

"css_url"
- Шаблонный файл для персонализированные темы использует внешние CSS свойства и шаблонный файл для стандарт тема использует внутренние CSS свойства. Поручить phpMussel использовать персонализированные темы шаблонный файл, указать адрес публичного HTTP в CSS файлов вашей темы используя `css_url` переменная. Если оставить это переменная пустым, phpMussel будет использовать шаблонный файл для стандарт тема.

---


### 8. <a name="SECTION8"></a>ФОРМАТ ПОДПИСЕЙ

#### *ПОДПИСИ НАЗВАНИЙ ФАЙЛОВ*
Все подписи названий файлов имеют следующий формат:

`NAME:FNRX`

NAME = Название подписи; FNRX = Regex-образец опознания для сравнения (декодированных) названий файлов.

#### *MD5 ПОДПИСИ*
Все MD5-подписи имеют следующий формат:

`HASH:FILESIZE:NAME`

HASH = Это MD5-Hash всего файла; FILESIZE = Это общий объём файла; NAME = Название подписи.

#### *PE-СЕКЦИОННЫЕ ПОДПИСИ*
Все PE-секционные подписи имеют следующий формат:

`SIZE:HASH:NAME`

HASH = Это MD5-Hash одной PE-секции файла; FILESIZE = Общий объём PE-секции; NAME = Название подписи.

#### *PE РАСШИРЕННЫХ ПОДПИСЕЙ*
Все PE расширенных подписей имеют следующий формат:

`$VAR:HASH:SIZE:NAME`

Where $VAR is the name of the PE variable to match against, HASH is the MD5 hash of that variable, SIZE is the total size of that variable and NAME is the name to cite for that signature.

#### *ПОДПИСИ БЕЛОГО СПИСКА*
Все подписи белого списка имеют следующий формат:

`HASH:FILESIZE:TYPE`

HASH = Это MD5-Hash всего файла; FILESIZE = Объём всего файла; TYPE = Тип подписи внесённого в белый список файла, в отношении которого имеется иммунитет.

#### *КОМПЛЕКС РАСШИРЕННЫХ ПОДПИСЕЙ*
Подписи, входящие в комплекс расширенных подписей, сильно отличаются от других видов возможных подписей phpMussel. По многим критериям они не согласуются с тем, что специфицируют подписи. Критерии соответствия разделяются между собой ";". Тип и данные каждой критерии соответствия отделяются друг от друга ":". Формат этой подписи выглядит примерно так:

`$variable1:SOMEDATA;$variable2:SOMEDATA;SignatureName`

#### *ВСЕ ПРОЧИЕ ПОДПИСИ*
Все прочие подписи имеют следующий формат:

`NAME:HEX:FROM:TO`

NAME = Название подписи; HEX = Сегмент файла, закодированный в шестнадцатеричный системе счисления (hexadecimal), который будет проверяться вместе с данной подписью. FROM и TO = Опциональный параметры, задающие для проверки старт и конечный пункт в исходных данных.

#### *REGEX*
Каждая форма регулярных выражений, понятных и правильно загружаемых PHP, должна также пониматься и phpMussel, чтобы правильно загружать подписи. Будьте крайне осторожны в написании новых подписей, базирующихся на регулярных выражениях. Неумелые действия могут привести к неправильным и/или неожиданным результатам. Если у вас нет абсолютной уверенности, то посмотрите исходный текст phpMussel, описывающий процесс обработки регулярных выражений. Помните, что все поисковые образцы, кроме названия файлов, архива метаданных и MD5-проверочных образцов, должны быть закодированы в шестнадцатеричный системе счисления (за исключением синтаксис, естественно)!

---


### 9. <a name="SECTION9"></a>ИЗВЕСТНЫЕ ПРОБЛЕМЫ СОВМЕСТИМОСТИ

#### PHP и PCRE
- Чтобы phpMussel могла загрузиться, ей необходимы PHP и PCRE. Без PHP и её PCRE-расширений phpMussel или вообще не сможет загрузиться, или загрузится ненадлежащим образом. Прежде чем скачивать и инсталлировать phpMussel убедитесь, что ваша система имеет PHP и PCRE.

#### СОВМЕСТИМОСТЬ С АНТИВИРУСНЫМ ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ

За редким исключением phpMussel хорошо совмещается с большинством антивирусных программ. Но были случаи, когда пользователи испытывали трудности. VirusTotal.com собрала информацию, описывающую какими тревожными сигналами phpMussel реагируют на разные антивирусные программы. Эта информация не гарантирует, что установленное на Вашей системе антивирусное программное обеспечение не совмещается с phpMussel. Если phpMussel причислила Ваше антивирусное программное обеспечение к проблематичному, то Вам нужно его или отключать перед использованием phpMussel, или решить эту проблему как-то по-другому.

Последний раз эта информация обновлялась 2016.08.29 года и считается актуальной для всех опубликованных на данный момент phpMussel и обеих её дополнительных версий (v0.10.0-v1.0.0).

| Scanner              |  Results                             |
|----------------------|--------------------------------------|
| Ad-Aware             |  Известных проблем нет               |
| AegisLab             |  Известных проблем нет               |
| Agnitum              |  Известных проблем нет               |
| AhnLab-V3            |  Известных проблем нет               |
| Alibaba              |  Известных проблем нет               |
| ALYac                |  Известных проблем нет               |
| AntiVir              |  Известных проблем нет               |
| Antiy-AVL            |  Известных проблем нет               |
| Arcabit              |  Известных проблем нет               |
| Avast                |  Сообщает "JS:ScriptSH-inf [Trj]"    |
| AVG                  |  Известных проблем нет               |
| Avira                |  Известных проблем нет               |
| AVware               |  Известных проблем нет               |
| Baidu                |  Сообщает "VBS.Trojan.VBSWG.a"       |
| Baidu-International  |  Известных проблем нет               |
| BitDefender          |  Известных проблем нет               |
| Bkav                 |  Сообщает "VEXC640.Webshell", "VEXD737.Webshell", "VEX5824.Webshell", "VEXEFFC.Webshell"|
| ByteHero             |  Известных проблем нет               |
| CAT-QuickHeal        |  Известных проблем нет               |
| ClamAV               |  Известных проблем нет               |
| CMC                  |  Известных проблем нет               |
| Commtouch            |  Известных проблем нет               |
| Comodo               |  Известных проблем нет               |
| Cyren                |  Известных проблем нет               |
| DrWeb                |  Известных проблем нет               |
| Emsisoft             |  Известных проблем нет               |
| ESET-NOD32           |  Известных проблем нет               |
| F-Prot               |  Известных проблем нет               |
| F-Secure             |  Известных проблем нет               |
| Fortinet             |  Известных проблем нет               |
| GData                |  Известных проблем нет               |
| Ikarus               |  Известных проблем нет               |
| Jiangmin             |  Известных проблем нет               |
| K7AntiVirus          |  Известных проблем нет               |
| K7GW                 |  Известных проблем нет               |
| Kaspersky            |  Известных проблем нет               |
| Kingsoft             |  Известных проблем нет               |
| Malwarebytes         |  Известных проблем нет               |
| McAfee               |  Сообщает "New Script.c"             |
| McAfee-GW-Edition    |  Сообщает "New Script.c"             |
| Microsoft            |  Известных проблем нет               |
| MicroWorld-eScan     |  Известных проблем нет               |
| NANO-Antivirus       |  Известных проблем нет               |
| Norman               |  Известных проблем нет               |
| nProtect             |  Известных проблем нет               |
| Panda                |  Известных проблем нет               |
| Qihoo-360            |  Известных проблем нет               |
| Rising               |  Известных проблем нет               |
| Sophos               |  Известных проблем нет               |
| SUPERAntiSpyware     |  Известных проблем нет               |
| Symantec             |  Известных проблем нет               |
| Tencent              |  Известных проблем нет               |
| TheHacker            |  Известных проблем нет               |
| TotalDefense         |  Известных проблем нет               |
| TrendMicro           |  Известных проблем нет               |
| TrendMicro-HouseCall |  Известных проблем нет               |
| VBA32                |  Известных проблем нет               |
| VIPRE                |  Известных проблем нет               |
| ViRobot              |  Известных проблем нет               |
| Zillya               |  Известных проблем нет               |
| Zoner                |  Известных проблем нет               |

---


### 10. <a name="SECTION10"></a>ЧАСТО ЗАДАВАЕМЫЕ ВОПРОСЫ (FAQ)

#### Что такое «подпись»?

In the context of phpMussel, a "signature" refers to data that acts as an indicator/identifier for something specific that we're looking for, usually in the form of some very small, distinct, innocuous segment of something larger and otherwise harmful, like a virus or trojan, or in the form of a file checksum, hash, or other similarly identifying indicator, and usually includes a label, and some other data to help provide additional context that can be used by phpMussel to determine the best way to proceed when it encounters what we're looking for.

#### Что такое «ложноположительный»?

Термин «ложноположительный» (*альтернативно: «ложноположительными ошибка»; «ложная сигнализация»*; Английский: *false positive*; *false positive error*; *false alarm*), описал очень просто, и в обобщенном контексте, используется при проверке условия, для ссылаясь на результаты этого теста, когда результаты будут положительный (то есть, условия определяется будут «положительный», или «истинно»), но как ожидается будет (или должно было) отрицательный (то есть, условие, в действительности, является «отрицательный», или «ложно»). Термин «ложноположительный» можно было бы считать аналогом «плачет волк» (английский идиома в которой условие проверяется является ли там волк возле стада, условие является «ложно» в том, что нет никакого волка возле стада, и условие сообщается «положительный» посредством пастух путем кричать «волк, волк»), или аналогично ситуации в медицинском тестировании в которой пациент диагностирован как какую-то болезнь, когда в действительности, у них нет болезни.

Связанные результаты при проверке условия можно описать с использование терминов «истинноположительный», «истинноотрицательный» и «ложноотрицательный». «Истинноположительный» описывает когда результаты испытаний и фактическое состояние условия оба являются истинными (или положительные), и «истинноотрицательный» описывает когда результаты испытаний и фактическое состояние условия оба являются ложными (или отрицательные); «Истинноположительный» или «истинноотрицательный» рассматриваются как «правильный вывод». Противоположностью «ложноположительный» является «ложноотрицательный»; «Ложноотрицательный» описывает когда результаты испытаний отрицательные (то есть, условие определяется как отрицательные, или ложными), но как ожидается будет (или должно было) положительные (то есть, условие, в действительности, является «положительный», или «истинно»).

В контексте phpMussel, эти термины относятся к сигнатур phpMussel и файлы которые они блокируют. Когда phpMussel блокирует файл из-за плохой, устаревшей или неправильной сигнатур, но не должно быть сделано, или когда он делает это по неправильным причинам, мы называем это событие как «ложноположительный». Когда phpMussel не удается блокировать файл, который должен был быть заблокированы, из-за непредвиденных угроз, недостающие сигнатур или недостатки в своих подписей, мы называем это событие как «обнаружение не удалось» (аналогична «ложноотрицательный»).

Это может быть суммированы в таблице ниже:

&nbsp; | phpMussel *НЕ* должны блокировать файл | phpMussel *ДОЛЖНЫ* блокировать файл
---|---|---
phpMussel *НЕ* блокирует файл | Истинноотрицательный (правильный вывод) | Обнаружение не удалось (аналогична ложноотрицательный)
phpMussel *ДЕЛАЕТ* блокирует файл | __Ложноположительный__ | Истинноположительный (правильный вывод)

#### Как часто обновляются сигнатуры?

Частота обновления зависит от файлов сигнатур. Предпринята попытка обновить файлов сигнатур в максимально возможной степени, но, потому всех нас есть различные другие обязательства, наша жизнь вне проекта, и мы не получаем материальной компенсации (т.е., оплата) за наши усилия по проекту, точный график обновления не может быть гарантирован. В общем, обновления происходят, когда есть время, и мы стараемся расставить приоритеты на основе необходимости и частота изменения между диапазонами. Помощь всегда приветствуется, если Вы готовы предложить любую.

#### Я столкнулся с проблемой при использовании phpMussel, и я не знаю, что с этим делать! Пожалуйста помоги!

- Используете ли Вы последнюю версию программного обеспечения? Используете ли Вы последние версии ваших файлов сигнатуры? Если ответ на любой из этих двух вопросов отрицательный, попробуйте сначала обновить все, и попытайтесь решить проблема. Если оно сохраняется, продолжайте чтение.
- Вы проверили всю документацию? Если нет, сделайте это. Если проблема не может быть решена с помощью документации, продолжите чтение.
- Вы проверили **[странице вопросов](https://github.com/Maikuolan/phpMussel/issues)**, чтобы узнать упоминалась ли эта проблема ранее? Если это было уже упоминалось, проверить были ли предоставлены какие-либо предложения, идеи и/или решения, и следуйте по необходимости чтобы попытаться решить проблема.
- Вы проверили **[форум поддержки phpMussel предоставляемый Spambot Security](http://www.spambotsecurity.com/forum/viewforum.php?f=55)**, чтобы узнать упоминалась ли эта проблема ранее? Если это было уже упоминалось, проверить были ли предоставлены какие-либо предложения, идеи и/или решения, и следуйте по необходимости чтобы попытаться решить проблема.
- Если проблема не решена, сообщите нам об этом, путем начала нового дискуссия на странице вопросов или на форум поддержки.

#### Я хочу использовать phpMussel с версией PHP ниже 5.4.0; Вы можете помочь?

Нет. PHP 5.4.0 достиг официального EoL («End of Life», или конец жизни) в 2014 году, и расширенная поддержка безопасности была прекращена в 2015 году. На момент написания этой это 2017 году, а PHP 7.1.0 уже доступен. В настоящее время использование phpMussel с PHP 5.4.0 и всеми доступными новыми версиями PHP поддерживается, но если Вы попытаетесь использовать phpMussel с любыми более старыми версиями PHP, поддержка не будет предоставлена.

#### Могу ли я использовать одну установку phpMussel для защиты нескольких доменов?

Да. phpMussel инсталляций не привязаны к определенным домены, и поэтому может использоваться для защиты нескольких доменов. В общем, мы ссылаемся на phpMussel инсталляций, защищающие только один домен, как «однодоменные инсталляций», и мы ссылаемся на phpMussel инсталляций, защищающие несколько доменов и/или поддоменов, как «многодоменные инсталляций». Если Вы используете многодоменную инсталляция, и необходимо использовать разные файлы сигнатур для разных доменов, или необходимо настроить phpMussel по-разному для разных доменов, это можно сделать. После загрузки файла конфигурации (`config.ini`), phpMussel проверит наличие «файл переопределения конфигурации» специфичные для запрашиваемого домена или поддомена (`xn----7sbaabjijgdno9cdqkbchu3o.tld.config.ini`), и если он будет найден, любые значений конфигурации, определенные в файл переопределения конфигурации, будет использоваться для экземпляра выполнения вместо значений конфигурации, определенных конфигурационным файлом. Конфигурация переопределяет файлы, идентичные конфигурационному файлу, и на Ваше усмотрение, Может содержать все директивы конфигурации, доступные для phpMussel, или какой бы небольшой подсекция требуется, при необходимости. Имена для конфигурация переопределяет файлов соответствуют домену для которого они предназначены (так, например, если Вам нужен файл переопределения конфигурации для домена, `http://www.some-domain.tld/`, его файл переопределения конфигурации должен иметь имя `some-domain.tld.config.ini`, и должен быть помещен в `vault`, вместе с файлом конфигурации, `config.ini`). Доменные имена извлекаются из заголовка `HTTP_HOST` запроса; «www» игнорируется.

---


Последнее обновление: 19 Мая 2017 (2017.05.19).
